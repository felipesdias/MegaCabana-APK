webpackJsonp([2],{128:function(t,e,o){"use strict";function a(t){o(297)}Object.defineProperty(e,"__esModule",{value:!0});var n=o(299),i=o(300),s=o(9),r=a,c=s(n.a,i.a,r,"data-v-d2046950",null);e.default=c.exports},297:function(t,e,o){var a=o(298);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(125)("5f921a5d",a,!0)},298:function(t,e,o){e=t.exports=o(124)(void 0),e.push([t.i,".titulo[data-v-d2046950]{text-align:center;margin-bottom:10px}.contente[data-v-d2046950]{margin:0 10px}.boxJogo[data-v-d2046950]{margin-bottom:10px}",""])},299:function(t,e,o){"use strict";var a=o(8);e.a={components:{QBtn:a.c,QToolbar:a.j,QToolbarTitle:a.k,QSpinner:a.i,QIcon:a.e},data:function(){return{jogos:[],tipo:this.$route.params.tipo,carregando:!0}},watch:{$route:function(){this.tipo=this.$route.params.tipo,this.getJogos(this.tipo)}},mounted:function(){this.tipo=this.$route.params.tipo,this.getJogos(this.tipo)},methods:{deletar:function(t,e){var o=this;a.a.create({title:"Excluir jogo",message:'Você tem certeza que deseja excluir o jogo "'+t.nome+'" ?',buttons:[{label:"Cancelar"},{label:"Excluir",handler:function(){o.API.delete("/deletaJogo/"+t.id).then(function(t){a.m.create.positive("Jogo excluido com sucesso!"),o.jogos.splice(e,1)}).catch(function(){a.m.create.negative("Erro ao excluir jogo")})}}]})},criaJogo:function(){var t=this,e=void 0,o=void 0;"semanais"===this.tipo?(e="Jogo semanal",o=0):(e="Jogo mensal",o=1),a.a.create({title:e,message:"Digite o nome:",form:{nome:{type:"text",label:"Nome do Jogo",model:""},qt_numeros:{type:"number",label:"Quantidade de números",model:10}},buttons:[{label:"Cancelar"},{label:"Criar",color:"positive",handler:function(e){t.API.post("/criarJogo",{tipo:o,nome:e.nome,qt_numeros:e.qt_numeros}).then(function(e){a.m.create.positive("Jogo criado com sucesso!"),t.jogos.unshift(e.data.data)}).catch(function(t){422===t.response.status?a.m.create(t.response.data.errors.message[0]):a.m.create.negative("Falha ao criar jogo")})}}]})},desloga:function(){this.$store.commit("desloga")},getColor:function(t){return t%2==0?"primary":"secondary"},redireciona:function(t){this.$router.push("/jogo/"+t)},getJogos:function(t){var e=this,o=void 0;o="semanais"===t?0:1,this.carregando=!0,this.API.get("/jogos/"+o).then(function(t){e.jogos=t.data.data,e.carregando=!1}).catch(function(){window.history.go(-1),a.m.create.negative({timeout:3e3,html:"Erro de conexão"})})},login:function(){if(a.b.get.item("logado"))return a.m.create.positive("Modo Administrador!"),void this.$store.commit("loga");var t=this;a.a.create({title:"Autenticação",message:"Digite a senha:",form:{senha:{type:"password",label:"Senha",model:""}},buttons:["Cancel",{label:"Ok",handler:function(e){"d36g483"===e.senha?(a.m.create.positive("Modo Administrador!"),t.$store.commit("loga"),a.b.set("logado",!0)):a.m.create.negative("Senha incorreta!")}}]})}}}},300:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-toolbar",{staticClass:"titulo",attrs:{color:"black"}},[o("q-btn",{attrs:{icon:"keyboard_backspace"},on:{click:function(e){e.preventDefault(),t.$router.go(-1)}}}),t._v(" "),o("q-toolbar-title",[t._v("\n      Jogos "+t._s(t.tipo)+"\n    ")]),t._v(" "),o("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.ADM,expression:"$store.state.ADM"}],attrs:{icon:"exit_to_app"},on:{click:function(e){e.preventDefault(),t.desloga(e)}}}),t._v(" "),o("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.ADM,expression:"!$store.state.ADM"}],attrs:{icon:"account_circle"},on:{click:function(e){e.preventDefault(),t.login(e)}}})],1),t._v(" "),o("div",{staticClass:"row justify-center"},[t.carregando?o("q-spinner",{attrs:{size:50,color:"blue"}}):t._e()],1),t._v(" "),o("div",{staticClass:"contente column"},t._l(t.jogos,function(e,a){return o("div",{key:e.id,staticClass:"row full-width items-center boxJogo"},[o("q-btn",{staticClass:"col",staticStyle:{padding:"15px 0px","margin-right":"15px"},attrs:{push:"",color:t.getColor(a)},on:{click:function(o){o.preventDefault(),t.redireciona(e.id)}}},[t._v("\n        "+t._s(e.nome)+"\n      ")]),t._v(" "),o("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.ADM,expression:"$store.state.ADM"}],staticClass:"float-right",attrs:{small:"",round:"",color:"red",push:""},on:{click:function(o){o.preventDefault(),t.deletar(e,a)}}},[o("q-icon",{attrs:{name:"delete"}})],1)],1)})),t._v(" "),o("q-btn",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.ADM,expression:"$store.state.ADM"}],staticClass:"absolute-bottom-right",staticStyle:{margin:"10px","font-size":"40px"},attrs:{round:"",color:"green",push:""},on:{click:function(e){e.preventDefault(),t.criaJogo(e)}}},[t._v("\n    +\n  ")])],1)},n=[],i={render:a,staticRenderFns:n};e.a=i}});